(this["webpackJsonpreact-messenger"]=this["webpackJsonpreact-messenger"]||[]).push([[0],{10:function(e,t,a){e.exports={item:"Item_item__hPkrq",content:"Item_content__gkhsG"}},1075:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),i=a(17),s=a.n(i),o=(a(29),a(30),a(2)),l=a(3),m=a(5),u=a(4),h=a(8),d=a(7),p=a(23),g=a(18),v=a(19),f=a(6),b=a.n(f),E=function(e){var t=e.avatar,a=e.label,n=e.content,r=e.timestamp,i=c.a.createElement("div",{className:b.a.left},"string"===typeof t?c.a.createElement("img",{className:b.a.avatar,src:t,alt:""}):t),s=c.a.createElement("div",{className:b.a.right},c.a.createElement("p",{className:b.a.top},a&&c.a.createElement("span",{className:b.a.label},a),r&&c.a.createElement("span",{className:b.a.timestamp},r)),n);return c.a.createElement("div",{className:b.a.comment},i,s)},_=a(20),N=a.n(_),I=function(e){var t=e.ava,a=e.username,n=e.message,r=e.timestamp,i=c.a.createElement("p",{className:N.a.content},n),s=r?r.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):null;return c.a.createElement(E,{avatar:t,label:a,timestamp:s,content:i})},j=a(21),O=a.n(j),P=function(e){var t=Object(d.a)({},e),a=t.hasNextPage,n=t.isNextPageLoading,r=t.items,i=t.loadNextPage,s=t.chatId,o=a?r.length+1:r.length,l=n?function(){}:i,m=function(e){return!a||e<r.length},u=function(e){var t,a=e.index,n=e.style;return t=m(a)?c.a.createElement(I,Object.assign({chatId:s,isPinned:!0},r[a])):"Loading...",c.a.createElement("div",{key:"ch".concat(a),style:n},t)};return s?c.a.createElement(g.a,null,(function(e){var t=e.height,a=e.width;return c.a.createElement(v.a,{isItemLoaded:m,itemCount:o,loadMoreItems:l},(function(e){var n=e.onItemsRendered,r=e.ref;return c.a.createElement(p.a,{className:"List",height:t,itemCount:o,itemSize:51,onItemsRendered:n,ref:r,width:.8*a},u)}))})):c.a.createElement("div",{className:O.a.blank},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0447\u0430\u0442...")},k=a(1),y=a.n(k),x=function(){var e,t=y.a.name.firstName();e="https://picsum.photos/id/".concat(y.a.random.number(1e3),"/48");var a=new Date;return{ava:e,username:t,message:y.a.hacker.phrase(),timestamp:a}},C=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).loadNextPage=function(){n.setState({isNextPageLoading:!0},(function(){setTimeout((function(){n.setState((function(e){return{hasNextPage:e.items.length<1e3,isNextPageLoading:!1,items:Object(h.a)(e.items).concat(new Array(50).fill(!0).map((function(){return x()})))}}))}),250)}))},n.state={hasNextPage:!0,isNextPageLoading:!1,items:[]},n}return Object(l.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.props.chatId!==e.chatId&&this.setState({items:[]})}},{key:"render",value:function(){var e=this.state,t=e.hasNextPage,a=e.isNextPageLoading,n=e.items,c=this.props.chatId;return r.createElement(P,{hasNextPage:t,isNextPageLoading:a,items:n,loadNextPage:this.loadNextPage,chatId:c})}}]),a}(r.Component),w=function(e){return c.a.createElement(C,{chatId:e.chatId})},L=a(22),S=a.n(L),T=function(e){return c.a.createElement("div",null,e.children)},D=a(9),M=a(10),A=a.n(M),B=function(e){var t=e.chatType,a=e.ava,n=e.label,r=e.username,i=e.shortmessage,s=e.timestamp,o=(e.chatId,e.isPinned,e.className),l=Object(D.a)(e,["chatType","ava","label","username","shortmessage","timestamp","chatId","isPinned","className"]),m=c.a.createElement("p",{className:A.a.content},0!==t?"".concat(r,": "):null,i),u=s?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date;return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}(s)?s.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):s.toLocaleDateString():null;return c.a.createElement("div",Object.assign({className:"".concat(A.a.item," ").concat(o)},l),c.a.createElement(E,{avatar:a,label:n,timestamp:u,content:m}))};!function(e){e[e.personal=0]="personal",e[e.group=1]="group",e[e.channel=2]="channel"}(n||(n={}));var W=function(e){return new Promise((function(t,a){var r,c,i=Object.keys(n).map((function(e){return n[e]}));i.push.apply(i,Object(h.a)(Array(i.length).fill(n.personal)));var s=y.a.random.arrayElement(i),o=y.a.name.firstName();switch(s){case n.personal:r=y.a.image.avatar(),c=o;break;default:r="https://picsum.photos/id/".concat(y.a.random.number(1e3),"/48"),c=y.a.random.words()}var l=new Date,m=new Date(l.setTime(l.getTime()-6e4*parseInt(e)));t({chatType:s,ava:r,label:c,username:o,shortmessage:y.a.hacker.phrase(),timestamp:m})}))},Y=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={chatType:0,ava:"",label:"",username:"",shortmessage:""},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;W(this.props.chatId).then((function(t){return e.setState(Object(d.a)({},t))}))}},{key:"render",value:function(){var e=Object(d.a)({},this.props),t=e.chatId,a=e.isPinned,n=Object(D.a)(e,["chatId","isPinned"]);return r.createElement(B,Object.assign({},this.state,{chatId:t,isPinned:a},n))}}]),a}(r.Component),F=a(11),R=a.n(F),J=function(e){var t=Object(d.a)({},e),a=t.chatList,n=t.handleClickCreator,r=t.activeChat,i=[];return a.forEach((function(e,t){i.push(c.a.createElement(Y,Object.assign({className:r===e.chatId?R.a.active:"",key:t,onClick:n(e.chatId)},e)))})),c.a.createElement("div",{className:R.a.sidebar},c.a.createElement(T,null,i))},q=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={chatList:[]},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return new Promise((function(t,a){for(var n=[],r=0,c=0;c<e;c++){var i={chatId:(r+=(c+1)*S.a.random.number(100)).toString(),isPinned:!1};n.push(i)}t(n)}))})().then((function(t){return e.setState({chatList:t})}))}},{key:"render",value:function(){return r.createElement(J,Object.assign({chatList:this.state.chatList},this.props))}}]),a}(r.Component),z=function(e){return c.a.createElement(q,e)},G=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={chatId:void 0},e.handleClickCreator=function(t){return function(){e.setState({chatId:t})}},e}return Object(l.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"rootScreen",style:{height:"100%",display:"flex"}},c.a.createElement(z,{handleClickCreator:this.handleClickCreator,activeChat:this.state.chatId}),c.a.createElement(w,{chatId:this.state.chatId}))}}]),a}(c.a.PureComponent),K=function(){return c.a.createElement(G,null)};var U=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(K,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},11:function(e,t,a){e.exports={sidebar:"Sidebar_sidebar__2ohVg",active:"Sidebar_active__1rIEB"}},20:function(e,t,a){e.exports={content:"Message_content__ThE5k"}},21:function(e,t,a){e.exports={blank:"MessageList_blank__1P8Yj"}},24:function(e,t,a){e.exports=a(1075)},29:function(e,t,a){},30:function(e,t,a){},6:function(e,t,a){e.exports={comment:"Comment_comment__lbK_I",left:"Comment_left__2xve6",avatar:"Comment_avatar__3ilhB",right:"Comment_right__1oP5A",top:"Comment_top__2UFsY",label:"Comment_label__2uyWa",timestamp:"Comment_timestamp__3l9lE"}}},[[24,1,2]]]);
//# sourceMappingURL=main.c634406d.chunk.js.map