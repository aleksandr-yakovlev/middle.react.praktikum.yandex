(this["webpackJsonpreact-messenger"]=this["webpackJsonpreact-messenger"]||[]).push([[0],{10:function(e,t,a){e.exports={item:"ChatItem_item__1Ldvj",content:"ChatItem_content__2Egfm"}},1075:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),i=a(17),s=a.n(i),o=(a(30),a(1)),l=a(3),m=a(4),u=a(6),h=a(5),d=a(8),v=a(24),p=a(18),g=a(19),f=a(7),b=a.n(f),_=function(e){var t=e.avatar,a=e.label,n=e.content,r=e.timestamp,i=c.a.createElement("div",{className:b.a.left},"string"===typeof t?c.a.createElement("img",{className:b.a.avatar,src:t,alt:""}):t),s=c.a.createElement("div",{className:b.a.right},c.a.createElement("p",{className:b.a.top},a&&c.a.createElement("span",{className:b.a.label},a),r&&c.a.createElement("span",{className:b.a.timestamp},r)),n);return c.a.createElement("div",{className:b.a.comment},i,s)},C=a(20),E=a.n(C),N=function(e){var t=e.ava,a=e.username,n=e.message,r=e.timestamp,i=c.a.createElement("p",{className:E.a.content},n),s=r?r.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):null;return c.a.createElement(_,{avatar:t,label:a,timestamp:s,content:i})},j=a(21),O=a.n(j),k=function(e){var t=Object(o.a)({},e),a=t.hasNextPage,n=t.isNextPageLoading,r=t.items,i=t.loadNextPage,s=t.chatId,l=a?r.length+1:r.length,m=n?function(){}:i,u=function(e){return!a||e<r.length},h=function(e){var t,a=e.index,n=e.style;return t=u(a)?c.a.createElement(N,Object.assign({chatId:s,isPinned:!0},r[a])):"Loading...",c.a.createElement("div",{key:"ch".concat(a),style:n},t)};return s?c.a.createElement(p.a,null,(function(e){var t=e.height,a=e.width;return c.a.createElement(g.a,{isItemLoaded:u,itemCount:l,loadMoreItems:m},(function(e){var n=e.onItemsRendered,r=e.ref;return c.a.createElement(v.a,{className:"List",height:t,itemCount:l,itemSize:51,onItemsRendered:n,ref:r,width:.8*a},h)}))})):c.a.createElement("div",{className:O.a.blank},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0447\u0430\u0442...")},y=a(2),I=a.n(y),P=function(){var e,t=I.a.name.firstName();e="https://picsum.photos/id/".concat(I.a.random.number(1e3),"/48");var a=new Date;return{ava:e,username:t,message:I.a.hacker.phrase(),timestamp:a}},x=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).loadNextPage=function(){n.setState({isNextPageLoading:!0},(function(){setTimeout((function(){n.setState((function(e){return{hasNextPage:e.items.length<1e3,isNextPageLoading:!1,items:Object(d.a)(e.items).concat(new Array(50).fill(!0).map((function(){return P()})))}}))}),250)}))},n.state={hasNextPage:!0,isNextPageLoading:!1,items:[]},n}return Object(m.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.props.chatId!==e.chatId&&this.setState({items:[]})}},{key:"render",value:function(){var e=this.state,t=e.hasNextPage,a=e.isNextPageLoading,n=e.items,c=this.props.chatId;return r.createElement(k,{hasNextPage:t,isNextPageLoading:a,items:n,loadNextPage:this.loadNextPage,chatId:c})}}]),a}(r.Component),w=a(22),L=a.n(w),S=function(e){return c.a.createElement("div",null,e.children)},T=a(9),D=a(10),M=a.n(D),A=function(e){var t=e.chatType,a=e.ava,n=e.label,r=e.username,i=e.shortmessage,s=e.timestamp,o=(e.chatId,e.isPinned,e.className),l=Object(T.a)(e,["chatType","ava","label","username","shortmessage","timestamp","chatId","isPinned","className"]),m=c.a.createElement("p",{className:M.a.content},0!==t?"".concat(r,": "):null,i),u=s?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date;return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}(s)?s.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):s.toLocaleDateString():null;return c.a.createElement("div",Object.assign({className:"".concat(M.a.item," ").concat(o)},l),c.a.createElement(_,{avatar:a,label:n,timestamp:u,content:m}))};!function(e){e[e.personal=0]="personal",e[e.group=1]="group",e[e.channel=2]="channel"}(n||(n={}));var W=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={chatType:0,ava:"",label:"",username:"",shortmessage:""},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e,t=this;(e=this.props.chatId,new Promise((function(t,a){var r,c,i=Object.keys(n).map((function(e){return n[e]}));i.push.apply(i,Object(d.a)(Array(i.length).fill(n.personal)));var s=I.a.random.arrayElement(i),o=I.a.name.firstName();switch(s){case n.personal:r=I.a.image.avatar(),c=o;break;default:r="https://picsum.photos/id/".concat(I.a.random.number(1e3),"/48"),c=I.a.random.words()}var l=new Date,m=new Date(l.setTime(l.getTime()-6e4*parseInt(e)));t({chatType:s,ava:r,label:c,username:o,shortmessage:I.a.hacker.phrase(),timestamp:m})}))).then((function(e){return t.setState(Object(o.a)({},e))}))}},{key:"render",value:function(){var e=Object(o.a)({},this.props),t=e.chatId,a=e.isPinned,n=Object(T.a)(e,["chatId","isPinned"]),c=Object(o.a)({},this.state),i=c.chatType,s=c.ava,l=c.label,m=c.username,u=c.shortmessage;return r.createElement(A,Object.assign({chatType:i,ava:s,label:l,username:m,shortmessage:u,chatId:t,isPinned:a},n))}}]),a}(r.Component),F=a(11),J=a.n(F),B=function(e){var t=Object(o.a)({},e),a=t.aChats,n=t.handleClickCreator,r=t.activeChat;return c.a.createElement("div",{className:J.a.sidebar},c.a.createElement(S,null,a.map((function(e){var t=Object(o.a)({},e).chatId;return c.a.createElement(W,{key:t,className:r===t?J.a.active:"",onClick:n(t),chatId:t})}))))},R=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={aChats:[]},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return new Promise((function(t,a){for(var n=[],r=0,c=0;c<e;c++){var i={chatId:(r+=++c*L.a.random.number(100)).toString(),isPinned:!1};n.push(i)}t(n)}))})().then((function(t){return e.setState({aChats:t})}))}},{key:"render",value:function(){var e=Object(o.a)({},this.props),t=e.handleClickCreator,a=e.activeChat;return r.createElement(B,{aChats:this.state.aChats,handleClickCreator:t,activeChat:a})}}]),a}(r.Component),U=a(23),Y=a.n(U),q=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={chatId:void 0},e.handleClickCreator=function(t){return function(){e.setState({chatId:t})}},e}return Object(m.a)(a,[{key:"render",value:function(){var e=Object(o.a)({},this.state).chatId;return c.a.createElement("div",{className:Y.a.chat},c.a.createElement(R,{activeChat:e,handleClickCreator:this.handleClickCreator}),c.a.createElement(x,{chatId:e}))}}]),a}(c.a.Component),X=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(q,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(X,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},11:function(e,t,a){e.exports={sidebar:"Sidebar_sidebar__3qUkX",active:"Sidebar_active__9wFJE"}},20:function(e,t,a){e.exports={content:"Message_content__17Doq"}},21:function(e,t,a){e.exports={blank:"MessageList_blank__J3Utj"}},23:function(e,t,a){e.exports={chat:"Chat_chat__i58WX"}},25:function(e,t,a){e.exports=a(1075)},30:function(e,t,a){},7:function(e,t,a){e.exports={comment:"Comment_comment__lbK_I",left:"Comment_left__2xve6",avatar:"Comment_avatar__3ilhB",right:"Comment_right__1oP5A",top:"Comment_top__2UFsY",label:"Comment_label__2uyWa",timestamp:"Comment_timestamp__3l9lE"}}},[[25,1,2]]]);
//# sourceMappingURL=main.9258ee7a.chunk.js.map