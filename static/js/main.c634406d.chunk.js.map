{"version":3,"sources":["components/Dialogs/Item/Item.module.scss","components/Dialogs/Item/types.ts","components/UI/Comment/Comment.tsx","components/Main/Message/Message.tsx","components/Main/MessageList/MessageList.tsx","components/Main/MessageList/MessageList.tesdata.tsx","components/Main/MessageList/MessageList.container.tsx","screens/Chat/Main/Main.router.tsx","components/UI/List/index.tsx","components/UI/List/List.tsx","components/Dialogs/Item/Item.tsx","components/Dialogs/Item/Item.tesdata.tsx","components/Dialogs/Item/Item.container.tsx","components/Dialogs/Sidebar/Sidebar.tsx","components/Dialogs/Sidebar/Sidebar.container.tsx","screens/Chat/Sidebar/Sidebar.router.tsx","screens/Chat/Chat.tsx","screens/Root.jsx","App.tsx","serviceWorker.ts","index.tsx","components/Dialogs/Sidebar/Sidebar.module.scss","components/Main/Message/Message.module.scss","components/Main/MessageList/MessageList.module.scss","components/UI/Comment/Comment.module.scss"],"names":["module","exports","ETypeItem","Comment","avatar","label","content","timestamp","avatarDOM","className","styles","left","src","alt","contentDOM","right","top","comment","Message","props","ava","username","message","timestampFormated","toLocaleTimeString","hour","minute","MessageList","hasNextPage","isNextPageLoading","items","loadNextPage","chatId","itemCount","length","loadMoreItems","isItemLoaded","index","Row","style","isPinned","key","height","width","onItemsRendered","ref","itemSize","blank","getTestData","faker","name","firstName","random","number","Date","hacker","phrase","MessageListContainer","setState","setTimeout","state","concat","Array","fill","map","nextProps","this","React","ScreensChatMain","List","children","Item","chatType","shortmessage","restProps","date1","date2","getFullYear","getMonth","getDate","dateCompare","toLocaleDateString","item","id","Promise","resolve","reject","aTypeItem","Object","keys","e","push","personal","itemType","arrayElement","image","words","currentDate","setTime","getTime","parseInt","ItemContainer","then","response","Sidebar","chatList","handleClickCreator","activeChat","a","forEach","element","active","onClick","sidebar","SidebarContainer","chatCount","aChats","chat","toString","getChats","ScreensChatSidebar","ScreensChat","undefined","display","PureComponent","ScreensRoot","App","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console"],"mappings":"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","file":"static/js/main.c634406d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Item_item__hPkrq\",\"content\":\"Item_content__gkhsG\"};","import { IChat } from 'types';\n// Component\n\nexport enum ETypeItem {\n  personal = 0,\n  group,\n  channel,\n}\n\n// these are all the optional props\nexport interface IDefaultProps {}\n\n// these are all the required props\nexport interface IProps\n  extends Partial<IDefaultProps>,\n    IChat,\n    React.HTMLProps<HTMLDivElement> {\n  chatType: ETypeItem;\n  ava: string;\n  label: string;\n  username?: string;\n  shortmessage: string;\n  timestamp?: Date;\n}\n\nexport interface IState {\n  // this might not be needed if the component doesn't have internal state\n}\n\nexport interface IContext {\n  // this might not be needed if the component doesn't consume the context\n}\n\n// Container\n\nexport type StateProps = Pick<\n  IProps,\n  'chatType' | 'ava' | 'label' | 'username' | 'shortmessage' | 'timestamp'\n>;\nexport type OwnProps = Omit<\n  IProps,\n  'chatType' | 'ava' | 'label' | 'username' | 'shortmessage' | 'timestamps'\n>;\n","import React from 'react';\n\n//import { IProps } from './types';\n\nimport styles from './Comment.module.scss';\n\n// const dateCompare = (date1: Date, date2: Date = new Date()): boolean => {\n//   return (\n//     date1.getFullYear() === date2.getFullYear() &&\n//     date1.getMonth() === date2.getMonth() &&\n//     date1.getDate() === date2.getDate()\n//   );\n// };\n\nexport interface ICommentProps {\n  avatar?: React.ReactNode;\n  label?: React.ReactNode;\n  content: React.ReactNode;\n  timestamp?: React.ReactNode;\n}\n\nexport const Comment: React.FC<ICommentProps> = ({\n  avatar,\n  label,\n  content,\n  timestamp,\n}) => {\n  const avatarDOM = (\n    <div className={styles.left}>\n      {typeof avatar === 'string' ? (\n        <img className={styles.avatar} src={avatar} alt=\"\" />\n      ) : (\n        avatar\n      )}\n    </div>\n  );\n\n  const contentDOM = (\n    <div className={styles.right}>\n      <p className={styles.top}>\n        {label && <span className={styles.label}>{label}</span>}\n        {timestamp && <span className={styles.timestamp}>{timestamp}</span>}\n      </p>\n      {content}\n    </div>\n  );\n\n  const commentDOM = (\n    <div className={styles.comment}>\n      {avatarDOM}\n      {contentDOM}\n    </div>\n  );\n\n  return commentDOM;\n};\n","import React, { FunctionComponent } from 'react';\nimport { Comment } from 'components/UI/Comment';\n\nimport { IProps } from './types';\n\nimport styles from './Message.module.scss';\n\nexport const Message: FunctionComponent<IProps> = (props) => {\n  const { ava, username, message, timestamp } = props;\n  const contentDOM = <p className={styles.content}>{message}</p>;\n  const timestampFormated = timestamp\n    ? timestamp.toLocaleTimeString([], {\n        hour: '2-digit',\n        minute: '2-digit',\n      })\n    : null;\n  return (\n    <Comment\n      avatar={ava}\n      label={username}\n      timestamp={timestampFormated}\n      content={contentDOM}\n    />\n  );\n};\n","import React, { FunctionComponent } from 'react';\nimport { FixedSizeList as List, ListChildComponentProps } from 'react-window';\nimport AutoSizer from 'react-virtualized-auto-sizer';\nimport InfiniteLoader from 'react-window-infinite-loader';\n\nimport { IProps } from './types';\nimport { Message } from 'components/Main/Message';\n\nimport styles from './MessageList.module.scss';\n\nexport const MessageList: FunctionComponent<IProps> = (props) => {\n  const { hasNextPage, isNextPageLoading, items, loadNextPage, chatId } = {\n    ...props,\n  };\n\n  // If there are more items to be loaded then add an extra row to hold a loading indicator.\n  const itemCount = hasNextPage ? items.length + 1 : items.length;\n\n  // Only load 1 page of items at a time.\n  // Pass an empty callback to InfiniteLoader in case it asks us to load more than once.\n  const loadMoreItems = isNextPageLoading ? () => {} : loadNextPage;\n\n  // Every row is loaded except for our loading indicator row.\n  const isItemLoaded = (index: number) => !hasNextPage || index < items.length;\n\n  // Render an item or a loading indicator.\n  const Row = ({ index, style }: ListChildComponentProps) => {\n    // console.log(items[0]);\n    let content;\n    if (!isItemLoaded(index)) {\n      content = 'Loading...';\n    } else {\n      content = <Message chatId={chatId} isPinned={true} {...items[index]} />;\n    }\n    return (\n      <div key={`ch${index}`} style={style}>\n        {content}\n      </div>\n    );\n  };\n\n  // const { isItemLoaded, loadMoreItems } = { ...props };\n  return chatId ? (\n    <AutoSizer>\n      {({ height, width }) => (\n        <InfiniteLoader\n          isItemLoaded={isItemLoaded}\n          itemCount={itemCount}\n          loadMoreItems={loadMoreItems}\n        >\n          {({ onItemsRendered, ref }) => (\n            <List\n              className=\"List\"\n              height={height}\n              itemCount={itemCount}\n              itemSize={51}\n              onItemsRendered={onItemsRendered}\n              ref={ref}\n              width={width * 0.8}\n            >\n              {Row}\n            </List>\n          )}\n        </InfiniteLoader>\n      )}\n    </AutoSizer>\n  ) : (\n    <div className={styles.blank}>Выберите чат...</div>\n  );\n};\n","import { StateProps } from '../Message/types';\nimport faker from 'faker/locale/ru';\n\nlet getTestData = (): StateProps => {\n  let ava: string;\n\n  const username: string = faker.name.firstName();\n\n  ava = `https://picsum.photos/id/${faker.random.number(1000)}/48`;\n\n  let timestamp = new Date();\n  const itemTestData: StateProps = {\n    ava: ava,\n    username: username,\n    message: faker.hacker.phrase(),\n    timestamp: timestamp,\n  };\n\n  return itemTestData;\n};\n\nexport default getTestData;\n","import * as React from 'react';\n\nimport { OwnProps, StateProps } from './types';\n\nimport { MessageList } from './MessageList';\nimport getTestData from './MessageList.tesdata';\n\nclass MessageListContainer extends React.Component<OwnProps, StateProps> {\n  constructor(props: OwnProps) {\n    super(props);\n\n    this.state = {\n      hasNextPage: true,\n      isNextPageLoading: false,\n      items: [],\n    };\n  }\n\n  loadNextPage = () => {\n    this.setState({ isNextPageLoading: true }, () => {\n      setTimeout(() => {\n        this.setState((state) => ({\n          hasNextPage: state.items.length < 1000,\n          isNextPageLoading: false,\n          items: [...state.items].concat(\n            new Array(50).fill(true).map(() => getTestData()),\n          ),\n        }));\n      }, 250);\n    });\n  };\n\n  componentWillReceiveProps(nextProps: OwnProps) {\n    if (this.props.chatId !== nextProps.chatId) {\n      this.setState({ items: [] });\n    }\n  }\n\n  public render() {\n    const { hasNextPage, isNextPageLoading, items } = this.state;\n    const { chatId } = this.props;\n    return (\n      <MessageList\n        hasNextPage={hasNextPage}\n        isNextPageLoading={isNextPageLoading}\n        items={items}\n        loadNextPage={this.loadNextPage}\n        chatId={chatId}\n      />\n    );\n  }\n}\n\nexport { MessageListContainer as MessageList };\n","import React from 'react';\n\nimport { MessageList } from 'components/Main/MessageList';\n\nexport const ScreensChatMain = (props: { chatId: string | undefined }) => (\n  <MessageList chatId={props.chatId} />\n);\n","import List from './List';\n\nexport default List;\n","import React, { FunctionComponent } from 'react';\n\n// import styles from './List.module.scss';\n\nexport interface IListProps {}\n\nconst List: FunctionComponent<IListProps> = (props) => {\n  return <div>{props.children}</div>;\n};\n\nexport default List;\n","import React, { FunctionComponent } from 'react';\nimport { Comment } from 'components/UI/Comment';\n\nimport { IProps } from './types';\n\nimport styles from './Item.module.scss';\n\nconst dateCompare = (date1: Date, date2: Date = new Date()): boolean => {\n  return (\n    date1.getFullYear() === date2.getFullYear() &&\n    date1.getMonth() === date2.getMonth() &&\n    date1.getDate() === date2.getDate()\n  );\n};\n\nexport const Item: FunctionComponent<IProps> = (props) => {\n  const {\n    chatType,\n    ava,\n    label,\n    username,\n    shortmessage,\n    timestamp,\n    chatId,\n    isPinned,\n    className,\n    ...restProps\n  } = props;\n  const contentDOM = (\n    <p className={styles.content}>\n      {/* не отображаем имя для личных чатов */}\n      {chatType !== 0 ? `${username}: ` : null}\n      {shortmessage}\n    </p>\n  );\n  const timestampFormated = timestamp\n    ? dateCompare(timestamp)\n      ? timestamp.toLocaleTimeString([], {\n          hour: '2-digit',\n          minute: '2-digit',\n        })\n      : timestamp.toLocaleDateString()\n    : null;\n  return (\n    <div className={`${styles.item} ${className}`} {...restProps}>\n      <Comment\n        avatar={ava}\n        label={label}\n        timestamp={timestampFormated}\n        content={contentDOM}\n      />\n    </div>\n  );\n};\n","import { ETypeItem, StateProps } from './types';\nimport faker from 'faker/locale/ru';\n\nlet getTestData = (id: string): Promise<StateProps> => {\n  return new Promise((resolve, reject) => {\n    let ava: string;\n    let label: string;\n    let aTypeItem: ETypeItem[] = Object.keys(ETypeItem).map(\n      (e) => ETypeItem[e as keyof typeof ETypeItem],\n    );\n\n    //увеличиваем вероятность выпадения людей\n    aTypeItem.push(...Array(aTypeItem.length).fill(ETypeItem.personal));\n\n    const itemType: ETypeItem = faker.random.arrayElement(aTypeItem);\n    const username: string = faker.name.firstName();\n\n    switch (itemType) {\n      case ETypeItem.personal:\n        ava = faker.image.avatar();\n        label = username;\n        break;\n      default:\n        ava = `https://picsum.photos/id/${faker.random.number(1000)}/48`;\n        label = faker.random.words();\n        break;\n    }\n\n    var currentDate = new Date();\n    let timestamp = new Date(\n      currentDate.setTime(currentDate.getTime() - 60 * 1000 * parseInt(id)),\n    );\n    const itemTestData: StateProps = {\n      chatType: itemType,\n      ava: ava,\n      label: label,\n      username: username,\n      shortmessage: faker.hacker.phrase(),\n      timestamp: timestamp,\n    };\n\n    resolve(itemTestData);\n  });\n};\n\nexport default getTestData;\n","import * as React from 'react';\n\nimport { Item } from './Item';\nimport getTestData from './Item.tesdata';\n\nimport { OwnProps, StateProps } from './types';\n\nclass ItemContainer extends React.Component<OwnProps, StateProps> {\n  constructor(props: OwnProps) {\n    super(props);\n\n    this.state = {\n      chatType: 0,\n      ava: '',\n      label: '',\n      username: '',\n      shortmessage: '',\n      // timestamp: undefined,\n    };\n  }\n\n  componentDidMount() {\n    getTestData(this.props.chatId).then((response) =>\n      this.setState({ ...response }),\n    );\n  }\n\n  public render() {\n    const { chatId, isPinned, ...restProps } = { ...this.props };\n    return (\n      <Item\n        {...this.state}\n        chatId={chatId}\n        isPinned={isPinned}\n        {...restProps}\n      />\n    );\n  }\n}\n\nexport { ItemContainer as Item };\n","import React, { FunctionComponent } from 'react';\n\nimport List from '../../UI/List';\nimport { Item } from '../Item';\n\nimport { IProps } from './types';\n\nimport styles from './Sidebar.module.scss';\n\nexport const Sidebar: FunctionComponent<IProps> = (props) => {\n  const { chatList, handleClickCreator, activeChat } = { ...props };\n  let a: React.ReactElement<Item>[] = [];\n  chatList.forEach((element, index) => {\n    a.push(\n      <Item\n        className={activeChat === element.chatId ? styles.active : ''}\n        key={index}\n        onClick={handleClickCreator(element.chatId)}\n        {...element}\n      />,\n    );\n  });\n  return (\n    <div className={styles.sidebar}>\n      <List>{a}</List>\n    </div>\n  );\n};\n","import * as React from 'react';\nimport faker from 'faker';\n\nimport { IChat } from 'types';\nimport { OwnProps, StateProps } from './types';\n\nimport { Sidebar } from './Sidebar';\n\n//чаты уже отсортированы на стороне сервера\nconst getChats = (chatCount: number = 50): Promise<IChat[]> => {\n  return new Promise((resolve, reject) => {\n    let aChats: IChat[] = [];\n    let id = 0;\n    for (let index = 0; index < chatCount; index++) {\n      //расчетный id нужен чтобы вычислить дату на тестовых данных\n      id += (index + 1) * faker.random.number(100);\n      let chat: IChat = {\n        chatId: id.toString(),\n        isPinned: false,\n      };\n      aChats.push(chat);\n    }\n    resolve(aChats);\n  });\n};\n\nclass SidebarContainer extends React.Component<OwnProps, StateProps> {\n  constructor(props: OwnProps) {\n    super(props);\n\n    this.state = { chatList: [] };\n  }\n\n  componentDidMount() {\n    getChats().then((response) => this.setState({ chatList: response }));\n  }\n\n  public render() {\n    //console.log(this.props);\n    return <Sidebar chatList={this.state.chatList} {...this.props} />;\n  }\n}\n\nexport { SidebarContainer as Sidebar };\n","import React from 'react';\n\nimport { Sidebar } from 'components/Dialogs/Sidebar';\n\nexport const ScreensChatSidebar = (props: {\n  handleClickCreator: any;\n  activeChat: string | undefined;\n}) => <Sidebar {...props} />;\n","import React from 'react';\n\nimport { ScreensChatMain } from './Main';\nimport { ScreensChatSidebar } from './Sidebar';\n\nexport class ScreensChat extends React.PureComponent {\n  readonly state = {\n    chatId: undefined,\n  };\n  handleClickCreator = (chatId: string) => {\n    return () => {\n      this.setState({ chatId: chatId });\n    };\n  };\n\n  render() {\n    return (\n      <div className={'rootScreen'} style={{ height: '100%', display: 'flex' }}>\n        <ScreensChatSidebar\n          handleClickCreator={this.handleClickCreator}\n          activeChat={this.state.chatId}\n        />\n        <ScreensChatMain chatId={this.state.chatId} />\n      </div>\n    );\n  }\n}\n","import React from 'react';\n\nimport { ScreensChat } from './Chat';\n\nconst ScreensRoot = () => <ScreensChat />;\n\nexport default ScreensRoot;\n","import React from 'react';\nimport './App.css';\nimport ScreensRoot from './screens/Root';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <ScreensRoot />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__2ohVg\",\"active\":\"Sidebar_active__1rIEB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Message_content__ThE5k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"blank\":\"MessageList_blank__1P8Yj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"comment\":\"Comment_comment__lbK_I\",\"left\":\"Comment_left__2xve6\",\"avatar\":\"Comment_avatar__3ilhB\",\"right\":\"Comment_right__1oP5A\",\"top\":\"Comment_top__2UFsY\",\"label\":\"Comment_label__2uyWa\",\"timestamp\":\"Comment_timestamp__3l9lE\"};"],"sourceRoot":""}