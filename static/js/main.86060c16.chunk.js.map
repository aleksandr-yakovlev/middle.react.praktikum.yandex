{"version":3,"sources":["components/UI/Comment/Comment.module.scss","components/Chat/Chat.module.scss","components/Sidebar/Sidebar.module.scss","components/Message/Message.module.scss","components/MessageList/MessageList.module.scss","components/ChatItem/ChatItem.module.scss","components/UI/Form/Form.module.scss","components/MessageForm/MessageForm.module.scss","components/LoginForm/LoginForm.module.scss","components/RegForm/RegForm.module.scss","components/ChatItem/ChatItem.tsx","history-route.tsx","modules/dateCompare.tsx","components/UI/List/List.tsx","components/UI/Comment/Comment.tsx","components/Message/Message.tsx","components/MessageList/MessageList.tsx","components/MessageForm/MessageForm.tsx","components/Sidebar/Sidebar.tsx","components/Chat/chats.testdata.ts","components/Chat/Chat.tsx","components/UI/Form/Form.tsx","components/UI/Input/Input.tsx","components/LoginForm/LoginForm.tsx","components/RegForm/RegForm.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","ETypeItem","history","createHashHistory","dateCompare","date1","date2","Date","getFullYear","getMonth","getDate","List","props","children","divProps","Comment","avatar","label","content","timestamp","isCenterTimestamp","avatarDOM","className","styles","left","src","alt","contentDOM","right","top","bottom","comment","Message","ava","username","text","avaDOM","imgAvatar","timestampFormated","toLocaleTimeString","hour","minute","MessageList","data","style","defaultUser","name","getTimestampDOM","timestampSeparator","date","thisYear","toLocaleDateString","weekday","year","undefined","month","day","replace","getFormatedData","messagelist","height","messages","map","index","messageId","authorId","message","isSameAutor","isSameDay","user","users","key","id","MessageForm","handleKeyPress","onChange","value","textAreaRef","useRef","rows","onKeyDown","messageform","ref","ChatItem","chatType","shortmessage","onClick","item","Sidebar","userId","chatsData","handleClickCreator","Logout","activeChat","sidebar","chatId","active","exit","messagesData","getChatData","Chat","state","currentChat","chatMessages","setState","autosizer","curRef","current","scrollHeight","setProperty","handleMessageKeyPress","e","shiftKey","preventDefault","currentTarget","prevState","uuidv4","Object","keys","onMessageChange","chatsDataSort","ChatsData","sort","chat1","chat2","getTime","this","chat","main","blank","select","React","Component","Form","errors","onBlur","formProps","loginForm","Children","child","cloneElement","errorText","Input","inputProps","type","LoginForm","getAuth","bind","handleSubmit","uname","pwd","elements","namedItem","onAuth","formWrapper","onSubmit","placeholder","required","to","RegForm","validate","onValidate","regSubmit","regExpValid","regExp","errText","fname","lname","element","target","nodeName","isValid","test","disabled","App","push","exact","path","component","match","params","appHoc","withRouter","Boolean","window","location","hostname","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console"],"mappings":"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","file":"static/js/main.86060c16.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"comment\":\"Comment_comment__lbK_I\",\"left\":\"Comment_left__2xve6\",\"avatar\":\"Comment_avatar__3ilhB\",\"right\":\"Comment_right__1oP5A\",\"top\":\"Comment_top__2UFsY\",\"label\":\"Comment_label__2uyWa\",\"bottom\":\"Comment_bottom__3S3ng\",\"timestamp\":\"Comment_timestamp__3l9lE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chat\":\"Chat_chat__i58WX\",\"main\":\"Chat_main__3gims\",\"messages\":\"Chat_messages__2Lcp8\",\"blank\":\"Chat_blank__bWBQa\",\"select\":\"Chat_select__V17K7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__3qUkX\",\"active\":\"Sidebar_active__9wFJE\",\"user\":\"Sidebar_user__1IQzd\",\"exit\":\"Sidebar_exit__ddTGd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Message_content__17Doq\",\"avatar\":\"Message_avatar__3m-P-\",\"imgAvatar\":\"Message_imgAvatar__2gEAY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messagelist\":\"MessageList_messagelist__2O4Ns\",\"timestampSeparator\":\"MessageList_timestampSeparator__2LOXf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ChatItem_item__1Ldvj\",\"content\":\"ChatItem_content__2Egfm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginForm\":\"Form_loginForm__1xR7n\",\"errorText\":\"Form_errorText__CIr1r\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messageform\":\"MessageForm_messageform__1qPFW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formWrapper\":\"LoginForm_formWrapper__O1FYG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formWrapper\":\"RegForm_formWrapper__UOqGr\"};","import React, { FC, MouseEvent } from 'react';\nimport { dateCompare } from 'modules/dateCompare';\n\nimport { Comment } from 'components/UI/Comment';\n\nimport styles from './ChatItem.module.scss';\n\nenum ETypeItem {\n  personal = 0,\n  group,\n  channel,\n}\n\nexport interface IChatItemProps {\n  chatId: string;\n  chatType: ETypeItem;\n  ava: string;\n  label: string;\n  username?: string;\n  shortmessage: string;\n  timestamp: Date;\n  className: string;\n  onClick: (e: MouseEvent<HTMLDivElement>) => void;\n}\n\nexport const ChatItem: FC<IChatItemProps> = (props) => {\n  const {\n    chatType,\n    ava,\n    label,\n    username,\n    shortmessage,\n    timestamp,\n    className,\n    onClick,\n  } = props;\n  const contentDOM = (\n    <p className={styles.content}>\n      {/* не отображаем имя для личных чатов */}\n      {chatType !== 0 ? `${username}: ` : null}\n      {shortmessage}\n    </p>\n  );\n  const timestampFormated = timestamp\n    ? dateCompare(timestamp)\n      ? timestamp.toLocaleTimeString([], {\n          hour: '2-digit',\n          minute: '2-digit',\n        })\n      : timestamp.toLocaleDateString()\n    : null;\n  return (\n    <div className={`${styles.item} ${className}`} onClick={onClick}>\n      <Comment\n        avatar={ava}\n        label={label}\n        timestamp={timestampFormated}\n        content={contentDOM}\n      />\n    </div>\n  );\n};\n","import { createHashHistory } from 'history';\n\nconst history = createHashHistory();\n\nexport { history };\n","export const dateCompare = (date1: Date, date2: Date = new Date()): boolean => {\n  return (\n    date1.getFullYear() === date2.getFullYear() &&\n    date1.getMonth() === date2.getMonth() &&\n    date1.getDate() === date2.getDate()\n  );\n};\n","import React, { FC, HTMLProps } from 'react';\n\ninterface IList extends HTMLProps<HTMLDivElement> {}\n\nexport const List: FC<IList> = (props) => {\n  const { children, ...divProps } = props;\n  return <div {...divProps}>{children}</div>;\n};\n","import React, { FC } from 'react';\n\nimport styles from './Comment.module.scss';\n\nexport interface ICommentProps {\n  avatar?: React.ReactNode;\n  label?: React.ReactNode;\n  content: React.ReactNode;\n  timestamp?: React.ReactNode;\n  isCenterTimestamp?: boolean;\n}\n\nexport const Comment: FC<ICommentProps> = ({\n  avatar,\n  label,\n  content,\n  timestamp,\n  isCenterTimestamp,\n}) => {\n  const avatarDOM = (\n    <div className={styles.left}>\n      {typeof avatar === 'string' ? (\n        <img className={styles.avatar} src={avatar} alt=\"\" />\n      ) : (\n        avatar\n      )}\n    </div>\n  );\n\n  const contentDOM = (\n    <div className={styles.right}>\n      <p className={styles.top}>\n        {label && <span className={styles.label}>{label}</span>}\n        {timestamp && !isCenterTimestamp && (\n          <span className={styles.timestamp}>{timestamp}</span>\n        )}\n      </p>\n      {isCenterTimestamp && timestamp ? (\n        <div className={styles.bottom}>\n          {content}\n          <span className={styles.timestamp}>{timestamp}</span>\n        </div>\n      ) : (\n        content\n      )}\n    </div>\n  );\n\n  return (\n    <div className={styles.comment}>\n      {avatarDOM}\n      {contentDOM}\n    </div>\n  );\n};\n","import React, { FC } from 'react';\n\nimport { Comment } from 'components/UI/Comment';\n\nimport styles from './Message.module.scss';\n\nexport interface IMessageProps {\n  id: string;\n  ava?: string;\n  username?: string;\n  text: string;\n  timestamp?: Date;\n}\n\nexport const Message: FC<IMessageProps> = (props) => {\n  const { ava, username, text, timestamp } = props;\n  const avaDOM = (\n    <div className={styles.avatar}>\n      <img className={styles.imgAvatar} src={ava} alt=\"\" />\n    </div>\n  );\n  const contentDOM = <p className={styles.content}>{text}</p>;\n  const timestampFormated = timestamp\n    ? timestamp.toLocaleTimeString([], {\n        hour: '2-digit',\n        minute: '2-digit',\n      })\n    : null;\n  return (\n    <Comment\n      avatar={avaDOM}\n      label={username}\n      timestamp={timestampFormated}\n      content={contentDOM}\n      isCenterTimestamp={true}\n    />\n  );\n};\n","import React, { FC } from 'react';\nimport CSS from 'csstype';\nimport { dateCompare } from 'modules/dateCompare';\n\nimport { List } from '../UI/List';\nimport { Message } from 'components/Message';\n\nimport styles from './MessageList.module.scss';\n\ninterface IUser {\n  name: string;\n  ava: string;\n}\n\nexport interface IMessagesData {\n  users: Record<string, IUser>;\n  messages: {\n    messageId: string;\n    authorId: string;\n    text: string;\n    timestamp: Date;\n  }[];\n}\n\nexport interface IMessageListProps {\n  data: IMessagesData;\n  style?: CSS.Properties;\n}\n\nexport const MessageList: FC<IMessageListProps> = (props) => {\n  const { data, style } = props;\n  const defaultUser: IUser = {\n    ava: 'https://s3.amazonaws.com/uifaces/faces/twitter/rahmeen/128.jpg',\n    name: 'Удалено',\n  };\n  const getFormatedData = (date: Date) => {\n    const thisYear = new Date().getFullYear();\n    return date\n      .toLocaleDateString([], {\n        weekday: 'short',\n        year: date.getFullYear() === thisYear ? 'numeric' : undefined,\n        month: 'long',\n        day: 'numeric',\n      })\n      .replace(/\\s*г\\./, '');\n  };\n  const getTimestampDOM = (timestamp: Date) => {\n    return (\n      <p className={styles.timestampSeparator}>{getFormatedData(timestamp)}</p>\n    );\n  };\n  return (\n    <List className={styles.messagelist} style={{ height: '100%', ...style }}>\n      {data.messages.map((props, index, messages) => {\n        const { messageId, authorId, text, timestamp } = props;\n        const message = messages[index - 1] || {};\n        const isSameAutor = authorId === message.authorId;\n        const isSameDay = dateCompare(timestamp, message.timestamp);\n        let user = data.users[authorId] || defaultUser;\n        return (\n          <div key={messageId}>\n            {!isSameDay && getTimestampDOM(timestamp)}\n            <Message\n              id={messageId}\n              ava={!isSameAutor || !isSameDay ? user.ava : undefined}\n              username={!isSameAutor || !isSameDay ? user.name : undefined}\n              text={text}\n              timestamp={timestamp}\n            />\n          </div>\n        );\n      })}\n    </List>\n  );\n};\n","import React, { FC, KeyboardEvent, ChangeEvent, useRef } from 'react';\n\nimport styles from './MessageForm.module.scss';\n\nexport interface IMessageProps {\n  value: string;\n  handleKeyPress: (\n    ref: React.RefObject<HTMLTextAreaElement>,\n  ) => (e: KeyboardEvent<HTMLTextAreaElement>) => void;\n  onChange: (\n    ref: React.RefObject<HTMLTextAreaElement>,\n  ) => (e: ChangeEvent<HTMLTextAreaElement>) => void;\n}\n\nexport const MessageForm: FC<IMessageProps> = (props) => {\n  const { handleKeyPress, onChange, value } = props;\n  let textAreaRef = useRef<HTMLTextAreaElement>(null);\n  return (\n    <textarea\n      rows={1}\n      value={value}\n      name=\"messagearea\"\n      onChange={onChange(textAreaRef)}\n      onKeyDown={handleKeyPress(textAreaRef)}\n      className={styles.messageform}\n      ref={textAreaRef}\n    ></textarea>\n  );\n};\n","import React, { FC, MouseEvent } from 'react';\n\nimport { List as ChatList } from '../UI/List';\nimport { ChatItem, IChatItemProps } from '../ChatItem';\n\nimport styles from './Sidebar.module.scss';\n\nexport type chatsDataType = Pick<\n  IChatItemProps,\n  | 'chatId'\n  | 'chatType'\n  | 'ava'\n  | 'label'\n  | 'username'\n  | 'shortmessage'\n  | 'timestamp'\n>;\n\nexport interface ISidebarProps {\n  userId: string;\n  handleClickCreator: (\n    chatId: string,\n  ) => (e: MouseEvent<HTMLDivElement>) => void;\n  Logout: (e: MouseEvent<HTMLElement>) => void;\n  chatsData: chatsDataType[];\n  activeChat: string | undefined;\n}\n\nexport const Sidebar: FC<ISidebarProps> = (props) => {\n  const { userId, chatsData, handleClickCreator, Logout, activeChat } = props;\n  return (\n    <div className={styles.sidebar}>\n      <ChatList>\n        {chatsData.map(\n          ({\n            chatId,\n            chatType,\n            ava,\n            label,\n            username,\n            shortmessage,\n            timestamp,\n          }) => {\n            return (\n              <ChatItem\n                key={chatId}\n                className={activeChat === chatId ? styles.active : ''}\n                onClick={handleClickCreator(chatId)}\n                chatId={chatId}\n                chatType={chatType}\n                ava={ava}\n                label={label}\n                username={username}\n                shortmessage={shortmessage}\n                timestamp={timestamp}\n              />\n            );\n          },\n        )}\n      </ChatList>\n      <div className={styles.user}>\n        <p>Пользователь: {userId}</p>\n        <p onClick={Logout} className={styles.exit}>\n          Выйти\n        </p>\n      </div>\n    </div>\n  );\n};\n","let chatsData = [\n  {\n    chatId: '021b797c-72f9-4e7b-8cc3-b57fb2d1eedb',\n    chatType: 0,\n    ava: 'https://s3.amazonaws.com/uifaces/faces/twitter/dixchen/128.jpg',\n    label: 'Антон',\n    username: 'Антон',\n    shortmessage: 'We need to bypass the mobile HDD port!',\n    timestamp: new Date('2020-05-04T16:57:31.338Z'),\n  },\n  {\n    chatId: '8a906a89-3e0b-4836-82bf-0ace982faa96',\n    chatType: 1,\n    ava: 'https://s3.amazonaws.com/uifaces/faces/twitter/rahmeen/128.jpg',\n    label: 'Александр',\n    username: 'Александр',\n    shortmessage: 'We need to program the mobile IB sensor!',\n    timestamp: new Date('2020-03-22T16:57:31.338Z'),\n  },\n  {\n    chatId: 'aed5afa3-df62-4f8f-9320-cc552a781f6a',\n    chatType: 2,\n    ava: 'https://picsum.photos/id/282/48',\n    label: 'value-added Configurable synthesize',\n    username: 'Эдуард',\n    shortmessage:\n      'Use the mobile IB circuit, then you can synthesize the auxiliary driver!',\n    timestamp: new Date('2020-03-22T16:57:31.338Z'),\n  },\n  {\n    chatId: '24e0b6ed-9046-483a-b35d-7ef66cc3c1b8',\n    chatType: 0,\n    ava: 'https://s3.amazonaws.com/uifaces/faces/twitter/ManikRathee/128.jpg',\n    label: 'Никита',\n    username: 'Никита',\n    shortmessage:\n      \"I'll bypass the virtual PCI bandwidth, that should panel the CSS program!\",\n    timestamp: new Date('2020-03-22T16:57:31.338Z'),\n  },\n];\n\ninterface IMessage {\n  users: Record<string, { name: string; ava: string }>;\n  messages: {\n    messageId: string;\n    authorId: string;\n    text: string;\n    timestamp: Date;\n  }[];\n}\n\nconst messagesData: Record<string, IMessage> = {\n  '24e0b6ed-9046-483a-b35d-7ef66cc3c1b8': {\n    users: {\n      'jack-johnson@ya.ru': {\n        name: 'Jack Johnson',\n        ava: 'https://picsum.photos/id/252/48',\n      },\n      'shrek@ya.ru': {\n        name: 'Shrek',\n        ava: 'https://picsum.photos/id/232/48',\n      },\n    },\n    messages: [\n      {\n        messageId: '4f82c4ce-57a6-4619-84b8-add5be27d207',\n        authorId: 'jack-johnson@ya.ru',\n        text: \"Hey, I'm here!\",\n        timestamp: new Date('2020-01-04T13:22:03.338Z'),\n        // new Date('2020-05-04T16:57:31')\n      },\n      {\n        messageId: '4fd57ff3-86c9-4c55-9303-e2d235efdaf7',\n        authorId: 'shrek@ya.ru',\n        text:\n          \"I'm at home I'm at home  I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home\",\n        timestamp: new Date('2020-02-02T09:04:33.338Z'),\n      },\n      {\n        messageId: '82529ed0-9684-4885-8215-7c4b209509d2',\n        authorId: 'shrek@ya.ru',\n        text: \"I'm at home\",\n        timestamp: new Date('2020-02-02T09:30:33.338Z'),\n      },\n      {\n        messageId: 'f744c554-dfb8-44c4-8cb5-37eef05ad743',\n        authorId: 'jack-johnson@ya.ru',\n        text: 'Welcome!',\n        timestamp: new Date('2020-02-02T10:00:50.338Z'),\n      },\n      {\n        messageId: 'da36f52f-4ba1-44bf-907f-df60e76e6bef',\n        authorId: 'jack-johnson@ya.ru',\n        text: 'Welcome!',\n        timestamp: new Date('2020-02-02T12:02:50.338Z'),\n      },\n    ],\n  },\n  '021b797c-72f9-4e7b-8cc3-b57fb2d1eedb': {\n    users: {\n      'jack-johnson@ya.ru': {\n        name: 'Jack Johnson',\n        ava: 'https://picsum.photos/id/252/48',\n      },\n      'shrek@ya.ru': {\n        name: 'Shrek',\n        ava: 'https://picsum.photos/id/232/48',\n      },\n    },\n    messages: [\n      {\n        messageId: '4f82c4ce-57a6-4619-84b8-add5be27d207',\n        authorId: 'jack-johnson@ya.ru',\n        text: \"Hey, I'm here!\",\n        timestamp: new Date('2020-01-04T13:22:03.338Z'),\n        // new Date('2020-05-04T16:57:31')\n      },\n      {\n        messageId: '4fd57ff3-86c9-4c55-9303-e2d235efdaf7',\n        authorId: 'shrek@ya.ru',\n        text:\n          \"I'm at home I'm at home  I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home\",\n        timestamp: new Date('2020-02-02T09:04:33.338Z'),\n      },\n      {\n        messageId: '82529ed0-9684-4885-8215-7c4b209509d2',\n        authorId: 'shrek@ya.ru',\n        text: \"I'm at home\",\n        timestamp: new Date('2020-02-02T09:30:33.338Z'),\n      },\n      {\n        messageId: 'f744c554-dfb8-44c4-8cb5-37eef05ad743',\n        authorId: 'jack-johnson@ya.ru',\n        text: 'Welcome!',\n        timestamp: new Date('2020-02-02T10:00:50.338Z'),\n      },\n      {\n        messageId: 'da36f52f-4ba1-44bf-907f-df60e76e6bef',\n        authorId: 'jack-johnson@ya.ru',\n        text: 'Welcome!',\n        timestamp: new Date('2020-02-02T12:02:50.338Z'),\n      },\n    ],\n  },\n  '8a906a89-3e0b-4836-82bf-0ace982faa96': {\n    users: {\n      'jack-johnson@ya.ru': {\n        name: 'Jack Johnson',\n        ava: 'https://picsum.photos/id/252/48',\n      },\n      'shrek@ya.ru': {\n        name: 'Shrek',\n        ava: 'https://picsum.photos/id/232/48',\n      },\n    },\n    messages: [\n      {\n        messageId: '4f82c4ce-57a6-4619-84b8-add5be27d207',\n        authorId: 'jack-johnson@ya.ru',\n        text: \"Hey, I'm here!\",\n        timestamp: new Date('2020-01-04T13:22:03.338Z'),\n        // new Date('2020-05-04T16:57:31')\n      },\n      {\n        messageId: '4fd57ff3-86c9-4c55-9303-e2d235efdaf7',\n        authorId: 'shrek@ya.ru',\n        text:\n          \"I'm at home I'm at home  I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home\",\n        timestamp: new Date('2020-02-02T09:04:33.338Z'),\n      },\n      {\n        messageId: '82529ed0-9684-4885-8215-7c4b209509d2',\n        authorId: 'shrek@ya.ru',\n        text: \"I'm at home\",\n        timestamp: new Date('2020-02-02T09:30:33.338Z'),\n      },\n      {\n        messageId: 'f744c554-dfb8-44c4-8cb5-37eef05ad743',\n        authorId: 'jack-johnson@ya.ru',\n        text: 'Welcome!',\n        timestamp: new Date('2020-02-02T10:00:50.338Z'),\n      },\n      {\n        messageId: 'da36f52f-4ba1-44bf-907f-df60e76e6bef',\n        authorId: 'jack-johnson@ya.ru',\n        text: 'Welcome!',\n        timestamp: new Date('2020-02-02T12:02:50.338Z'),\n      },\n    ],\n  },\n  'aed5afa3-df62-4f8f-9320-cc552a781f6a': {\n    users: {\n      'jack-johnson@ya.ru': {\n        name: 'Jack Johnson',\n        ava: 'https://picsum.photos/id/252/48',\n      },\n      'shrek@ya.ru': {\n        name: 'Shrek',\n        ava: 'https://picsum.photos/id/232/48',\n      },\n    },\n    messages: [\n      {\n        messageId: '4f82c4ce-57a6-4619-84b8-add5be27d207',\n        authorId: 'jack-johnson@ya.ru',\n        text: \"Hey, I'm here!\",\n        timestamp: new Date('2020-01-04T13:22:03.338Z'),\n        // new Date('2020-05-04T16:57:31')\n      },\n      {\n        messageId: '4fd57ff3-86c9-4c55-9303-e2d235efdaf7',\n        authorId: 'shrek@ya.ru',\n        text:\n          \"I'm at home I'm at home  I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home I'm at home\",\n        timestamp: new Date('2020-02-02T09:04:33.338Z'),\n      },\n      {\n        messageId: '82529ed0-9684-4885-8215-7c4b209509d2',\n        authorId: 'shrek@ya.ru',\n        text: \"I'm at home\",\n        timestamp: new Date('2020-02-02T09:30:33.338Z'),\n      },\n      {\n        messageId: 'f744c554-dfb8-44c4-8cb5-37eef05ad743',\n        authorId: 'jack-johnson@ya.ru',\n        text: 'Welcome!',\n        timestamp: new Date('2020-02-02T10:00:50.338Z'),\n      },\n      {\n        messageId: 'da36f52f-4ba1-44bf-907f-df60e76e6bef',\n        authorId: 'jack-johnson@ya.ru',\n        text: 'Welcome!',\n        timestamp: new Date('2020-02-02T12:02:50.338Z'),\n      },\n    ],\n  },\n};\n\nconst getChatData = (chatId: string) => messagesData[chatId];\n\nexport { chatsData, getChatData };\n","import React, { KeyboardEvent, ChangeEvent, MouseEvent } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\n\nimport { MessageList, IMessagesData } from 'components/MessageList';\nimport { MessageForm } from 'components/MessageForm';\nimport { Sidebar, chatsDataType } from 'components/Sidebar';\n\nimport { chatsData, getChatData } from './chats.testdata';\n\nimport styles from './Chat.module.scss';\n\ninterface IChatState {\n  currentChat?: string;\n  chatMessages: IMessagesData;\n  message: string;\n}\n\ninterface IChatProps {\n  userId: string;\n  currentChat?: string;\n  Logout: (e: MouseEvent<HTMLElement>) => void;\n}\n\nclass Chat extends React.Component<IChatProps> {\n  readonly state: IChatState = {\n    currentChat: this.props.currentChat,\n    chatMessages: { users: {}, messages: [] },\n    message: '',\n  };\n\n  componentDidMount() {\n    if (this.props.currentChat) {\n      let currentChat = this.props.currentChat;\n      this.setState(() => ({\n        chatMessages: getChatData(currentChat),\n      }));\n    }\n  }\n\n  handleClickCreator = (chatId: string) => {\n    return () => {\n      this.setState(() => ({\n        currentChat: chatId,\n        chatMessages: getChatData(chatId),\n      }));\n    };\n  };\n\n  autosizer = (ref: React.RefObject<HTMLTextAreaElement>) => {\n    const curRef = ref.current;\n    if (curRef?.style.height !== curRef?.scrollHeight) {\n      curRef?.style.setProperty('height', 'auto');\n      curRef?.style.setProperty('height', `${curRef?.scrollHeight}px`);\n    }\n  };\n\n  handleMessageKeyPress = (ref: React.RefObject<HTMLTextAreaElement>) => (\n    e: KeyboardEvent<HTMLTextAreaElement>,\n  ) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      const message: string = e.currentTarget.value;\n      this.setState(\n        (prevState: IChatState) => ({\n          message: '',\n          chatMessages: {\n            ...prevState.chatMessages,\n            messages: [\n              ...prevState.chatMessages.messages,\n              {\n                messageId: uuidv4(),\n                authorId: Object.keys(prevState.chatMessages.users)[0],\n                text: message,\n                timestamp: new Date(),\n              },\n            ],\n          },\n        }),\n        () => this.autosizer(ref),\n      );\n    }\n  };\n\n  onMessageChange = (ref: React.RefObject<HTMLTextAreaElement>) => (\n    e: ChangeEvent<HTMLTextAreaElement>,\n  ) => {\n    let message: string = e.currentTarget.value;\n    this.setState(() => ({\n      message: message,\n    }));\n    this.autosizer(ref);\n  };\n\n  chatsDataSort = (ChatsData: chatsDataType[]) => {\n    return ChatsData.sort(\n      (chat1: chatsDataType, chat2: chatsDataType): number =>\n        chat2.timestamp.getTime() - chat1.timestamp.getTime(),\n    );\n  };\n\n  render() {\n    const { currentChat, chatMessages, message } = this.state;\n    const { userId, Logout } = this.props;\n    return (\n      <div className={styles.chat}>\n        <Sidebar\n          userId={userId}\n          activeChat={currentChat}\n          chatsData={this.chatsDataSort(chatsData)}\n          handleClickCreator={this.handleClickCreator}\n          Logout={Logout}\n        />\n        <div className={styles.main}>\n          {chatMessages ? (\n            <div className={styles.messages}>\n              <MessageList data={chatMessages} />\n              <MessageForm\n                handleKeyPress={this.handleMessageKeyPress}\n                onChange={this.onMessageChange}\n                value={message}\n              />\n            </div>\n          ) : (\n            <div className={styles.blank}>\n              <p className={styles.select}>Выберите чат...</p>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport { Chat };\n","import React, { FC, Children, FocusEvent, ReactElement } from 'react';\n\nimport styles from './Form.module.scss';\n\nexport interface IFormProps {\n  children: ReactElement<HTMLFormElement>[];\n  errors: Record<string, string | null>;\n  onBlur?: (e: FocusEvent<HTMLFormElement>) => void;\n}\n\nexport const Form: FC<IFormProps & React.HTMLProps<HTMLFormElement>> = (\n  props,\n) => {\n  const { children, errors, onBlur, ...formProps } = props;\n  return (\n    <form className={styles.loginForm} {...formProps}>\n      {Children.map(children, (child: ReactElement<HTMLFormElement>) => (\n        <>\n          {React.cloneElement(child as ReactElement<HTMLFormElement>, {\n            onBlur: onBlur,\n          })}\n          {errors[child?.props.name] && (\n            <span className={styles.errorText}>\n              {errors[child?.props.name]}\n            </span>\n          )}\n        </>\n      ))}\n    </form>\n  );\n};\n","import React, { FC, HTMLProps } from 'react';\n\nexport interface ILabelProps {\n  label: string;\n}\n\nexport const Input: FC<ILabelProps & HTMLProps<HTMLInputElement>> = (props) => {\n  const { label, ...inputProps } = props;\n  return (\n    <label>\n      <b>{label}</b>\n      <input type=\"text\" {...inputProps} />\n    </label>\n  );\n};\n","import React, { FormEvent } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { Form } from 'components/UI/Form';\nimport { Input } from 'components/UI/Input';\n\nimport styles from './LoginForm.module.scss';\n\nexport interface ILoginFormProps {\n  onAuth: (chatId: string) => void;\n}\n\nexport interface ILoginFormState {\n  errors: Record<string, string>;\n}\n\nexport class LoginForm extends React.Component<\n  ILoginFormProps,\n  ILoginFormState\n> {\n  constructor(props: ILoginFormProps) {\n    super(props);\n    this.state = {\n      errors: {},\n    };\n    this.getAuth = this.getAuth.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  getAuth(uname: string, pwd: string) {\n    let errors: Record<string, string> = {};\n    if (uname !== 'test') {\n      errors.uname = 'Неверное имя пользователя';\n    } else if (pwd !== 'test') errors.pwd = 'Неверный пароль';\n    this.setState((prevState: ILoginFormState) => ({\n      errors: {\n        ...prevState.errors,\n        ...errors,\n      },\n    }));\n    return uname === 'test' && pwd === 'test';\n  }\n\n  handleSubmit(e: FormEvent<HTMLFormElement>) {\n    e.preventDefault();\n    const uname = (e.currentTarget.elements.namedItem(\n      'uname',\n    ) as HTMLInputElement).value;\n    const pwd = (e.currentTarget.elements.namedItem('pwd') as HTMLInputElement)\n      .value;\n    if (this.getAuth(uname, pwd)) {\n      this.props.onAuth(uname);\n    }\n  }\n\n  render() {\n    const { errors } = this.state;\n    return (\n      <div className={styles.formWrapper}>\n        <Form errors={errors} onSubmit={this.handleSubmit}>\n          <Input\n            name=\"uname\"\n            type=\"text\"\n            label=\"Логин:\"\n            placeholder=\"Введите логин (test)\"\n            required\n          />\n          <Input\n            name=\"pwd\"\n            type=\"password\"\n            placeholder=\"Введите пароль (test)\"\n            label=\"Пароль:\"\n            required\n          />\n          {\n            <button id=\"submit\" type=\"submit\">\n              Вход\n            </button>\n          }\n        </Form>\n        <Link to=\"/register\">Регистрация</Link>\n      </div>\n    );\n  }\n}\n","import React, { FocusEvent, FormEvent } from 'react';\n\nimport { Form } from 'components/UI/Form';\nimport { Input } from 'components/UI/Input';\n\nimport styles from './RegForm.module.scss';\n\nexport interface IRegFormProps {\n  onAuth: (chatId: string) => void;\n}\n\nexport interface IRegFormState {\n  errors: Record<string, string | null>;\n  validate: Record<string, boolean>;\n}\n\nexport class RegForm extends React.Component<IRegFormProps, IRegFormState> {\n  constructor(props: IRegFormProps) {\n    super(props);\n    this.state = {\n      errors: {},\n      validate: {},\n    };\n    this.onValidate = this.onValidate.bind(this);\n    this.regSubmit = this.regSubmit.bind(this);\n  }\n\n  regSubmit(e: FormEvent<HTMLFormElement>) {\n    e.preventDefault();\n    this.props.onAuth(\n      (e.currentTarget.elements.namedItem('uname') as HTMLInputElement).value,\n    );\n  }\n\n  onValidate(e: FocusEvent<HTMLFormElement>) {\n    e.preventDefault();\n    const regExpValid: Record<string, { regExp: RegExp; errText: string }> = {\n      uname: {\n        regExp: /^[a-z0-9_-]{3,16}$/,\n        errText: 'Цифры, строчные буквы, символы - и _. 3-16 длина.',\n      },\n      fname: {\n        regExp: /^[A-ЯЁ][а-яё]{1,}$/,\n        errText: 'Заглавная, прописные, 2+ длина.',\n      },\n      lname: {\n        regExp: /^[A-ЯЁ][а-яё]{1,}$/,\n        errText: 'Заглавная, прописные, 2+ длина.',\n      },\n      pwd: {\n        regExp: /^(?=.*[A-Z].*[A-Z])(?=.*[!@#$&*])(?=.*[0-9].*[0-9])(?=.*[a-z].*[a-z].*[a-z]).{8,}$/,\n        errText: '8+ длина, спецсимволы.',\n      },\n    };\n    const element = e.target;\n    if (element.nodeName === 'INPUT') {\n      const isValid = regExpValid[element.name].regExp.test(element.value);\n      this.setState((prevState) => ({\n        errors: {\n          ...prevState.errors,\n          [element.name]: isValid ? null : regExpValid[element.name].errText,\n        },\n        validate: {\n          ...prevState.validate,\n          [element.name]: isValid,\n        },\n      }));\n    }\n  }\n\n  render() {\n    const { errors, validate } = this.state;\n    return (\n      <div className={styles.formWrapper}>\n        <Form\n          errors={errors}\n          onSubmit={this.regSubmit}\n          onBlur={this.onValidate}\n        >\n          <Input\n            name=\"uname\"\n            type=\"text\"\n            label=\"Логин:\"\n            placeholder=\"Введите логин\"\n            required\n          />\n          <Input\n            name=\"fname\"\n            type=\"text\"\n            label=\"Имя:\"\n            placeholder=\"Введите имя\"\n            required\n          />\n          <Input\n            name=\"lname\"\n            type=\"text\"\n            label=\"Фамилия:\"\n            placeholder=\"Введите фамилию\"\n            required\n          />\n          <Input\n            name=\"pwd\"\n            type=\"password\"\n            placeholder=\"Введите пароль\"\n            label=\"Пароль:\"\n            required\n          />\n          {\n            <button\n              name=\"submit\"\n              type=\"submit\"\n              disabled={\n                !(\n                  validate.uname &&\n                  validate.fname &&\n                  validate.lname &&\n                  validate.pwd\n                )\n              }\n            >\n              Регистрация\n            </button>\n          }\n        </Form>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport {\n  RouteComponentProps,\n  Switch,\n  Route,\n  Redirect,\n  withRouter,\n} from 'react-router-dom';\n\nimport { history } from 'history-route';\n\nimport { Chat } from 'components/Chat';\nimport { LoginForm } from 'components/LoginForm';\nimport { RegForm } from 'components/RegForm';\n\nexport interface IAppState {\n  userId: string | null;\n}\n\nfunction withRouterProps<T>(Component: React.ComponentType<T>) {\n  return (props: T & RouteComponentProps<{ id: string }>) => {\n    return <Component currentChat={props.match.params.id} {...props} />;\n  };\n}\n\nclass App extends React.Component<RouteComponentProps, IAppState> {\n  constructor(props: RouteComponentProps) {\n    super(props);\n    this.state = {\n      userId: 'test',\n    };\n\n    this.onAuth = this.onAuth.bind(this);\n    this.Logout = this.Logout.bind(this);\n  }\n\n  onAuth(userId: string) {\n    this.setState(\n      () => ({\n        userId: userId,\n      }),\n      () => history.push('/'),\n    );\n  }\n\n  Logout() {\n    this.setState(() => ({\n      userId: null,\n    }));\n  }\n\n  render() {\n    const { userId } = this.state;\n    return (\n      <div className=\"App\">\n        <Switch>\n          <Route\n            exact\n            path=\"/login\"\n            component={() => <LoginForm onAuth={this.onAuth} />}\n          />\n          <Route\n            exact\n            path=\"/register\"\n            component={() => <RegForm onAuth={this.onAuth} />}\n          />\n          <Route\n            path=\"/\"\n            component={() =>\n              userId ? (\n                <Switch>\n                  <Route\n                    exact\n                    path=\"/\"\n                    component={() => (\n                      <Chat Logout={this.Logout} userId={userId} />\n                    )}\n                  />\n                  <Route\n                    path=\"/chat/:id\"\n                    component={withRouterProps((props) => (\n                      <Chat Logout={this.Logout} userId={userId} {...props} />\n                    ))}\n                  />\n                </Switch>\n              ) : (\n                <Redirect to=\"/login\" />\n              )\n            }\n          />\n        </Switch>\n      </div>\n    );\n  }\n}\n\nconst appHoc = withRouter(App);\n\nexport { appHoc as App };\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Router } from 'react-router-dom';\n\nimport { history } from 'history-route';\n\nimport './index.css';\nimport { App } from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router history={history}>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}